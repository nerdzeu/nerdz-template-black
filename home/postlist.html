{loop="list_a"}
    <div id="post{$value.hpid_n}" data-hpid="{$value.hpid_n}">
    <script type="application/javascript">var lnk{$value.hpid_n} = "/{$value.to4link_n}{$value.pid_n}";</script>
    <div class="nerdz_from">
        {if="!$value.news_b"}
            <a href="/{$value.from4link_n}">{$value.from_n}</a>
            {if="$value.fromid_n != $value.toid_n"}
                &nbsp;=&gt; <a href="/{$value.to4link_n}">{$value.to_n}</a>
            {else}
            :
            {/if}
        {/if}
        <div class="nerdz_date"{if="$value.news_b"} style="width:100%; text-align:right"{/if}>
        {if="$value.news_b"}
               <time class="nerdz_date" style="float:left; margin-bottom: 4px">
                    {$value.datetime_n}
                </time>
        {/if}
              <span class="revisions">
                  {if="$value.revisions_n > 0"}
                  <span title="{$number_of_modifications}: {$value.revisions_n}" class="oldrev" data-refto="post{$value.hpid_n}" data-revisions="{$value.revisions_n}" data-hpid="{$value.hpid_n}">&#9664;</span>&nbsp;&nbsp;
                  {/if}
              </span>
    {if="!$value.news_b"}
              <time>{$value.datetime_n}</time>
    {/if}
              <span class="thumbs">
                {if="!$value.news_b"}
                    &nbsp;|&nbsp;
                {/if}
                <span class='thumbs-counter{if="$value.thumbs_n > 0"} nerdz_thumbsNumPos{else}{if="$value.thumbs_n < 0"} nerdz_thumbsNumNeg{/if}{/if}'>{if="$value.thumbs_n > 0"}+{/if}{$value.thumbs_n}</span>
                &nbsp;&nbsp;
                <span class="nerdz_thumbs" data-refto="{$value.hpid_n}">
                  <a class='vote up{if="$value.uthumb_n == 1"} voted{/if}'>&#9650;</a>&nbsp;&nbsp;
                  <a class='vote down{if="$value.uthumb_n ==-1"} voted{/if}'>&#9660;</a>&nbsp;&nbsp;
                </span>
              </span>
        </div>
    </div>

    <div class="{if="$value.news_b"}news{else}nerdz_message{/if}">
        <div>
            <span class="nerdz_date" style="font-size: 7pt">
                #{$value.pid_n}
            </span>
            {$value.message_n}
        </div>
        <div style="clear:both; padding-top: 5px" class="small">
            <a href="/{$value.to4link_n}{$value.pid_n}" class="post_link">Link</a>&nbsp;&nbsp;
            <a class="showcomments" style="width:60%" data-hpid="{$value.hpid_n}" data-refto="commentlist{$value.hpid_n}">
                {$comments} ({$value.postcomments_n})
            </a>

            <a class="hide" style="float:right; margin-left:3px" data-postid="post{$value.hpid_n}">{$hide}</a>
            {if="$value.canremovepost_b || $value.caneditpost_b"}
                <span style="float:right">
            {/if}
            {if="$value.canremovepost_b"}
                <a class="delpost" data-hpid="{$value.hpid_n}" data-refto="post{$value.hpid_n}">{$remove}</a>
            {/if}
            {if="$value.canremovepost_b && $value.caneditpost_b"} | {/if}
            {if="$value.caneditpost_b"}
                <a class="edit" data-hpid="{$value.hpid_n}" data-refto="post{$value.hpid_n}">{$edit}</a>
            {/if}
            {if="$value.canremovepost_b || $value.caneditpost_b"}
            </span>
            {/if}
            {if="$value.canshowlock_b"}
                {if="$value.lock_b"}
                    <span style="margin-right:3px; float: right">
                        <img class="imglocked" data-hpid="{$value.hpid_n}" src="images/lock.png" alt="" width="16" height="16" title="{$recv_notify}" onclick="" />
                    </span>
                {else}
                    <span style="margin-right:3px; float: right">
                        <img class="imgunlocked" data-hpid="{$value.hpid_n}" src="images/unlock.png" alt="" width="16" height="16" title="{$not_recv_notify}" onclick="" />
                    </span>
                {/if}
            {/if}
            {if="$value.canshowlurk_b"}
                {if="$value.lurk_b"}
                    <span style="margin-right:3px; float: right">
                        <img class="unlurk" data-hpid="{$value.hpid_n}" src="images/unlurk.png" alt="" width="16" height="16" title="Unlurk" style="float:right; margin-left:5px" onclick="" />
                    </span>
                {else}
                    <span style="margin-right:3px; float: right">
                        <img class="lurk" data-hpid="{$value.hpid_n}" src="images/lurk.png" alt="" width="16" height="16" title="Lurk" style="float:right; margin-left:5px" onclick="" />
                    </span>
                {/if}
            {/if}
            {if="$value.canshowbookmark_b"}
                {if="$value.bookmark_b"}
                    <span style="margin-right:3px; float: right">
                        <img class="unbookmark" data-hpid="{$value.hpid_n}" src="images/unbookmark.png" alt="" width="16" height="16" title="Unbookmark" style="float:right; margin-left:5px" onclick="" />
                    </span>
                {else}
                    <span style="margin-right:3px; float: right">
                        <img class="bookmark" data-hpid="{$value.hpid_n}" src="images/bookmark.png" alt="" width="16" height="16" title="Bookmark" style="float:right; margin-left:5px" onclick="" />
                    </span>
                {/if}
            {/if}
        </div>
    </div>
    <div>     
        <div id="commentlist{$value.hpid_n}" style="width:65%;margin-top:1%; margin-bottom:15px"></div>
    </div>
</div>
{/loop}
