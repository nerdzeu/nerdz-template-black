<div class="row">
  <div class="col">
    <h2>{$account}</h2>
    <p id="res">{$preferences_descr}</p>
    <form id="edaccfrm">
        <input type="text" class="form-control" value="{$name_n}" name="name" placeholder="{$name}">
        <input type="text" class="form-control" value="{$surname_n}" name="surname" placeholder="{$surname}">
        <input id="datepicker" type="date" class="form-control" value="{$year_n}-{$month_n}-{$day_n}" placeholder="{$birth_date}">
        <input type="text" class="form-control" value="{$email_n}" name="surname" placeholder="{$email}">
        <input type="password" class="form-control" name="password" placeholder="{$password} - {$leave_empty_pass}">
      <select class="selectpicker"  name="timezone">
        {loop="timezones_a"}
        {if="$value == $timezone_n"}
        <option value="{$value}" selected="selected">{$value}</option>
        {else}
        <option value="{$value}">{$value}</option>
        {/if}
        {/loop}
      </select>
      <button type="submit" class="post-interaction">{$edit}</button>
    </div>
  </div>
  <input type="hidden" name="tok" value="{$tok_n}" />
  <select name="birth_day" hidden>
    <option value="-1" selected></option>
  </select>
  <select name="birth_month" hidden>
    <option value="-1" selected></option>
  </select>
  <select name="birth_year" hidden>
    <option value="-1" selected></option>
  </select>
</form>
</div>
<script>
$("#datepicker").on("change", function() {
  var data = this.value;
  var valori = data.split("-");
  console.log(valori);
  $("select[name=birth_day] option:selected").val(valori[2]);
  $("select[name=birth_month] option:selected").val(valori[1]);
  $("select[name=birth_year] option:selected").val(valori[0]);
});
</script>
